<eui-page>
    <eui-page-header label="eUI UX patterns" subLabel="CRUD simple"></eui-page-header>

    <eui-page-content>

        <div class="page-title eui-u-font-size-2xl">
            <ng-template [ngIf]="!currentSource">
                Create a new source
            </ng-template>
            <ng-template [ngIf]="currentSource">
                Source details for : {{currentSource.name}}
            </ng-template>
        </div>

        <form [formGroup]="form" class="form--large-labels p-2">
            <div class="row">
                <div class="col-md-7">
                    <div class="row">
                        <div class="col-md-6">
                            <ux-form-group label="Name" [isVertical]="true" [isRequired]="true">
                                <ux-form-control formControlName="name" id="source_name"></ux-form-control>
                                <ux-control-feedback *ngIf="form.controls['name'].invalid && form.controls['name'].touched && form.controls['name'].hasError('forbiddenName')" typeClass="danger">
                                    The name should not be empty and contain only [a-zA-Z0-9 _.]
                                </ux-control-feedback>
                                <ux-control-feedback *ngIf="form.controls['name'].invalid && form.controls['name'].touched && form.controls['name'].hasError('maxlength')" typeClass="danger">
                                    The name should be maximum 100 characters long
                                </ux-control-feedback>
                            </ux-form-group>
                        </div>
                    </div>
                    <ux-form-group label="URL" [isVertical]="true" [isRequired]="true" validationErrorMessage="The url is required and/or is invalid">
                        <ux-form-control  id="source_url" formControlName="url"></ux-form-control>
                    </ux-form-group>
                </div>
            </div>
        </form>
    </eui-page-content>

    <eui-page-footer>
        <div class="footer-action-bar">
            <button class="eui-u-mr-s" id="cancel_btn" euiButton euiSecondary (click)="onCancel($event)">Cancel</button>
            <button class="eui-u-mr-s" id="save_btn"   euiButton euiPrimary (click)="onSave($event)" [euiDisabled]="!(form.valid && form.dirty)">Save</button>
        </div>
    </eui-page-footer>

</eui-page>
